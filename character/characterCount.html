<!DOCTYPE html>
<html lang="en">

<head>
    <title>Rainbow</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="count-container">

        <form>
            <div class="input-group">
                <input type="text" placeholder="Name" maxlength="10" data-max-chars="10" class="input-control count-chars">
                <div class="input-msg text-red"></div>
            </div>
            <div class="input-group">
                <textarea placeholder="Message" maxlength="20" data-max-chars="20" class="input-control count-chars"></textarea>
                <div class="input-msg text-orange"></div>
            </div>
        </form>

        <script>
            function count() {
                document.addEventListener("keyup", function(event) {


                    if (event.target.matches(".count-chars")) {
                        // get input value and length
                        const value = event.target.value;
                        const valueLength = event.target.value.length;
                        // get data value
                        const maxChars = parseInt(event.target.getAttribute("data-max-chars"));

                        const remainingChars = maxChars - valueLength;


                        if (valueLength > maxChars) {

                            // limit chars to maxChars
                            event.target.value = value.substr(0, maxChars);


                            return; //end function execution
                        }
                        if (remainingChars == 0) {
                            alert("only " + maxChars + "  characters are allowed");
                        }
                        event.target.nextElementSibling.innerHTML = remainingChars + " characters Left";



                    }


                })

            }

            count();
        </script>
    </div>
</body>

</html>